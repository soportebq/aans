<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DBSCAN Pregunta 3: Efectos del Parámetro Epsilon</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/7.8.5/d3.min.js"></script>
    <link rel="stylesheet" href="dbscan.css">
</head>
<body>
    <div class="container">
        <div class="header q3">
            <h1>DBSCAN: Pregunta 3</h1>
            <p>Efectos del Parámetro Epsilon (ε) en el Clustering</p>
        </div>
        
        <div class="content">
            <div class="question-box q3">
                <h2>¿Qué pasa si el valor de epsilon (ε) es muy pequeño o muy grande?</h2>
                <p><strong>Contexto:</strong> El parámetro epsilon determina el radio de vecindad para cada punto. Su valor tiene un impacto crítico en los resultados del clustering.</p>
            </div>

            <div class="answer-section">
                <h3>Respuesta Completa</h3>
                <p>El valor de <strong>epsilon (ε)</strong> es uno de los parámetros más críticos en DBSCAN. Valores inadecuados pueden resultar en clustering incorrecto:</p>
            </div>

            <div class="epsilon-demo">
                <div class="epsilon-card epsilon-small">
                    <h3>🔴 Epsilon Muy Pequeño</h3>
                    <svg id="small-epsilon" width="250" height="200"></svg>
                    <p><strong>Resultado:</strong> Clusters esparcidos son clasificados como ruido</p>
                    <p><em>ε = 15 (muy pequeño)</em></p>
                </div>

                <div class="epsilon-card epsilon-optimal">
                    <h3>🟢 Epsilon Óptimo</h3>
                    <svg id="optimal-epsilon" width="250" height="200"></svg>
                    <p><strong>Resultado:</strong> Clusters correctamente identificados</p>
                    <p><em>ε = 35 (óptimo)</em></p>
                </div>

                <div class="epsilon-card epsilon-large">
                    <h3>🟡 Epsilon Muy Grande</h3>
                    <svg id="large-epsilon" width="250" height="200"></svg>
                    <p><strong>Resultado:</strong> Clusters separados se fusionan incorrectamente</p>
                    <p><em>ε = 80 (muy grande)</em></p>
                </div>
            </div>

            <div class="legend">
                <div class="legend-item">
                    <div class="legend-color" style="background-color: #3498db;"></div>
                    <span>Cluster 1</span>
                </div>
                <div class="legend-item">
                    <div class="legend-color" style="background-color: #e74c3c;"></div>
                    <span>Cluster 2</span>
                </div>
                <div class="legend-item">
                    <div class="legend-color" style="background-color: #f39c12;"></div>
                    <span>Cluster 3</span>
                </div>
                <div class="legend-item">
                    <div class="legend-color" style="background-color: #95a5a6;"></div>
                    <span>Ruido/Noise</span>
                </div>
                <div class="legend-item">
                    <div class="legend-color" style="background-color: rgba(52,152,219,0.2); border: 2px dashed #3498db;"></div>
                    <span>Radio ε</span>
                </div>
            </div>

            <div class="interactive-demo">
                <h3>🎮 Demostración Interactiva</h3>
                <p>Ajusta el valor de epsilon y observa cómo cambia el clustering:</p>
                
                <div class="controls">
                    <div class="control-group">
                        <label>Epsilon (ε):</label>
                        <input type="range" id="epsilon-slider" min="10" max="100" value="35" step="5">
                        <input type="number" id="epsilon-input" min="10" max="100" value="35" step="5">
                    </div>
                    <div class="control-group">
                        <label>MinPts:</label>
                        <input type="number" id="minpts-input" min="2" max="8" value="3" step="1">
                    </div>
                </div>
                
                <svg id="interactive-demo" width="600" height="400"></svg>
                
                <div id="clustering-stats" style="margin-top: 20px; padding: 15px; background: white; border-radius: 10px; box-shadow: 0 2px 8px rgba(0,0,0,0.1);">
                    <strong>Estadísticas actuales:</strong> <span id="stats-text">Epsilon: 35, Clusters: 2, Noise: 3</span>
                </div>
            </div>

            <div class="effects-grid">
                <div class="effect-card small-epsilon">
                    <h4>🔴 Efectos de Epsilon Muy Pequeño</h4>
                    <ul class="consequences">
                        <li><strong>Sobre-fragmentación:</strong> Clusters válidos se dividen en múltiples fragmentos</li>
                        <li><strong>Exceso de ruido:</strong> Muchos puntos se clasifican incorrectamente como outliers</li>
                        <li><strong>Pérdida de estructura:</strong> Patrones reales en los datos no se detectan</li>
                        <li><strong>Clusters muy pequeños:</strong> Solo los puntos más densos forman clusters</li>
                        <li><strong>Baja recall:</strong> No se recuperan todos los puntos que deberían estar en clusters</li>
                    </ul>
                </div>

                <div class="effect-card large-epsilon">
                    <h4>🟡 Efectos de Epsilon Muy Grande</h4>
                    <ul class="consequences">
                        <li><strong>Sobre-agrupación:</strong> Clusters distintos se fusionan incorrectamente</li>
                        <li><strong>Pérdida de separación:</strong> Se pierde la distinción entre grupos diferentes</li>
                        <li><strong>Clusters gigantes:</strong> La mayoría de puntos se agrupan en pocos clusters grandes</li>
                        <li><strong>Poco ruido detectado:</strong> Outliers reales no se identifican</li>
                        <li><strong>Baja precisión:</strong> Puntos de diferentes grupos se mezclan</li>
                    </ul>
                </div>
            </div>

            <div class="highlight-box">
                <h4>Ejemplo Numérico Detallado</h4>
                <p><strong>Dataset:</strong> Puntos en un plano 2D con MinPts = 3</p>
                <ul>
                    <li><strong>ε = 10 (muy pequeño):</strong> Solo puntos muy cercanos (< 10 unidades) son vecinos. Resultado: 8 clusters pequeños + 15 puntos de ruido</li>
                    <li><strong>ε = 30 (óptimo):</strong> Vecindad razonable. Resultado: 3 clusters bien definidos + 2 outliers reales</li>
                    <li><strong>ε = 80 (muy grande):</strong> Casi todos los puntos son vecinos. Resultado: 1 cluster gigante + 0 outliers</li>
                </ul>
            </div>
        </div>
        
        <div class="back-button-container">
            <button class="back-button" onclick="history.back()">
                Volver a la página anterior
            </button>
        </div>
    </div>

    <script src="dbscan_q3.js"></script>
</body>
</html>