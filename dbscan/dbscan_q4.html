<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DBSCAN Pregunta 4: Sensibilidad a Par√°metros</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/7.8.5/d3.min.js"></script>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            margin: 0;
            padding: 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
        }
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
            overflow: hidden;
        }
        .header {
            background: linear-gradient(135deg, #e67e22, #d35400);
            color: white;
            padding: 30px;
            text-align: center;
        }
        .header h1 {
            margin: 0;
            font-size: 2.5em;
            font-weight: 300;
        }
        .header p {
            margin: 10px 0 0 0;
            opacity: 0.9;
            font-size: 1.1em;
        }
        .content {
            padding: 40px;
        }
        .question-box {
            background: #f8f9fa;
            border: 3px solid #e67e22;
            border-radius: 15px;
            padding: 25px;
            margin-bottom: 30px;
            position: relative;
        }
        .question-box::before {
            content: "‚ùì";
            position: absolute;
            top: -15px;
            left: 25px;
            background: #e67e22;
            color: white;
            padding: 10px;
            border-radius: 50%;
            font-size: 1.2em;
        }
        .question-box h2 {
            color: #2c3e50;
            margin-top: 0;
            margin-left: 50px;
        }
        .answer-section {
            background: #e8f5e8;
            border: 3px solid #27ae60;
            border-radius: 15px;
            padding: 25px;
            margin: 30px 0;
            position: relative;
        }
        .answer-section::before {
            content: "‚úÖ";
            position: absolute;
            top: -15px;
            left: 25px;
            background: #27ae60;
            color: white;
            padding: 10px;
            border-radius: 50%;
            font-size: 1.2em;
        }
        .answer-section h3 {
            color: #27ae60;
            margin-top: 0;
            margin-left: 50px;
            font-size: 1.5em;
        }
        .demo-section {
            background: #f8f9fa;
            border-radius: 15px;
            padding: 30px;
            margin: 30px 0;
            text-align: center;
        }
        .controls {
            display: flex;
            justify-content: center;
            gap: 30px;
            margin: 20px 0;
            flex-wrap: wrap;
        }
        .control-group {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 10px;
            background: white;
            padding: 15px;
            border-radius: 15px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            min-width: 150px;
        }
        .control-group label {
            font-weight: bold;
            color: #2c3e50;
            font-size: 14px;
        }
        .control-group input[type="range"] {
            width: 120px;
        }
        .control-group input[type="number"] {
            width: 60px;
            padding: 5px;
            border: 1px solid #ddd;
            border-radius: 5px;
            text-align: center;
        }
        .comparison-grid {
            display: grid;
            grid-template-columns: 1fr 1fr 1fr;
            gap: 25px;
            margin: 30px 0;
        }
        .comparison-card {
            border: 3px solid;
            border-radius: 15px;
            padding: 20px;
            text-align: center;
            background: white;
        }
        .before-card {
            border-color: #3498db;
        }
        .current-card {
            border-color: #e74c3c;
        }
        .stable-card {
            border-color: #27ae60;
        }
        .comparison-card h4 {
            margin-top: 0;
            font-size: 1.2em;
        }
        .sensitivity-examples {
            background: #fff3cd;
            border: 2px solid #ffc107;
            border-radius: 15px;
            padding: 25px;
            margin: 30px 0;
        }
        .example-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }
        .example-card {
            background: white;
            border-radius: 10px;
            padding: 20px;
            border-left: 4px solid #ffc107;
        }
        .tips-section {
            background: #dff0d8;
            border: 2px solid #5cb85c;
            border-radius: 15px;
            padding: 25px;
            margin: 30px 0;
        }
        .highlight-box {
            background: linear-gradient(135deg, #fff3cd, #ffeaa7);
            border: 3px solid #fdcb6e;
            border-radius: 15px;
            padding: 25px;
            margin: 25px 0;
            position: relative;
        }
        .highlight-box::before {
            content: "üí°";
            position: absolute;
            top: -15px;
            left: 25px;
            background: #fdcb6e;
            padding: 10px;
            border-radius: 50%;
            font-size: 1.2em;
        }
        .highlight-box h4 {
            margin-top: 0;
            margin-left: 50px;
            color: #d63031;
        }
        .stats-display {
            background: white;
            border-radius: 10px;
            padding: 15px;
            margin: 20px 0;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
            gap: 15px;
            text-align: center;
        }
        .stat-item {
            padding: 10px;
            border-radius: 8px;
            background: #f8f9fa;
        }
        .stat-value {
            font-size: 1.5em;
            font-weight: bold;
            color: #2c3e50;
        }
        .stat-label {
            font-size: 0.9em;
            color: #7f8c8d;
        }
        .legend {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin: 20px 0;
            flex-wrap: wrap;
        }
        .legend-item {
            display: flex;
            align-items: center;
            gap: 8px;
            padding: 5px 12px;
            background: white;
            border-radius: 20px;
            box-shadow: 0 2px 6px rgba(0,0,0,0.1);
            font-size: 14px;
        }
        .legend-color {
            width: 12px;
            height: 12px;
            border-radius: 50%;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>DBSCAN: Pregunta 4</h1>
            <p>¬øEs DBSCAN Sensible a los Valores de Epsilon y MinPts?</p>
        </div>
        
        <div class="content">
            <div class="question-box">
                <h2>¬øEs el algoritmo DBSCAN muy sensible a los valores de epsilon y min_pts?</h2>
                <p><strong>Contexto:</strong> La sensibilidad a par√°metros determina qu√© tan robustos son los resultados ante peque√±os cambios en la configuraci√≥n.</p>
            </div>

            <div class="answer-section">
                <h3>Respuesta: S√ç, DBSCAN es MUY sensible a ambos par√°metros</h3>
                <p><strong>Conclusi√≥n:</strong> Peque√±as variaciones en epsilon (Œµ) o MinPts pueden cambiar dram√°ticamente los resultados del clustering. Esta es una <em>limitaci√≥n significativa</em> del algoritmo que requiere cuidadosa selecci√≥n de par√°metros.</p>
            </div>

            <div class="demo-section">
                <h3>üéÆ Demostraci√≥n Interactiva de Sensibilidad</h3>
                <p>Cambia los par√°metros y observa c√≥mo los resultados var√≠an significativamente:</p>
                
                <div class="controls">
                    <div class="control-group">
                        <label>Epsilon (Œµ)</label>
                        <input type="range" id="eps-slider" min="20" max="80" value="35" step="5">
                        <input type="number" id="eps-input" min="20" max="80" value="35" step="5">
                    </div>
                    <div class="control-group">
                        <label>MinPts</label>
                        <input type="range" id="minpts-slider" min="2" max="6" value="3" step="1">
                        <input type="number" id="minpts-input" min="2" max="6" value="3" step="1">
                    </div>
                </div>
                
                <svg id="main-demo" width="600" height="350"></svg>
                
                <div class="stats-display">
                    <div class="stat-item">
                        <div class="stat-value" id="current-eps">35</div>
                        <div class="stat-label">Epsilon</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-value" id="current-minpts">3</div>
                        <div class="stat-label">MinPts</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-value" id="current-clusters">3</div>
                        <div class="stat-label">Clusters</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-value" id="current-noise">2</div>
                        <div class="stat-label">Ruido</div>
                    </div>
                </div>
            </div>

            <div class="legend">
                <div class="legend-item">
                    <div class="legend-color" style="background-color: #3498db;"></div>
                    <span>Cluster 1</span>
                </div>
                <div class="legend-item">
                    <div class="legend-color" style="background-color: #e74c3c;"></div>
                    <span>Cluster 2</span>
                </div>
                <div class="legend-item">
                    <div class="legend-color" style="background-color: #f39c12;"></div>
                    <span>Cluster 3</span>
                </div>
                <div class="legend-item">
                    <div class="legend-color" style="background-color: #9b59b6;"></div>
                    <span>Cluster 4</span>
                </div>
                <div class="legend-item">
                    <div class="legend-color" style="background-color: #95a5a6;"></div>
                    <span>Ruido</span>
                </div>
            </div>

            <div class="comparison-grid">
                <div class="comparison-card before-card">
                    <h4 style="color: #3498db;">üìä Configuraci√≥n Base</h4>
                    <svg id="base-config" width="200" height="150"></svg>
                    <p><strong>Œµ=35, MinPts=3</strong></p>
                    <p>3 clusters, 2 ruido</p>
                </div>

                <div class="comparison-card current-card">
                    <h4 style="color: #e74c3c;">üîÑ Peque√±o Cambio</h4>
                    <svg id="small-change" width="200" height="150"></svg>
                    <p><strong>Œµ=39, MinPts=3</strong></p>
                    <p>2 clusters, 1 ruido</p>
                </div>

                <div class="comparison-card stable-card">
                    <h4 style="color: #27ae60;">‚öñÔ∏è Cambio en MinPts</h4>
                    <svg id="minpts-change" width="200" height="150"></svg>
                    <p><strong>Œµ=35, MinPts=4</strong></p>
                    <p>2 clusters, 6 ruido</p>
                </div>
            </div>

            <div class="sensitivity-examples">
                <h3>‚ö†Ô∏è Ejemplos Reales de Sensibilidad</h3>
                <div class="example-grid">
                    <div class="example-card">
                        <h5>üìà Cambio en Epsilon (+11%)</h5>
                        <p><strong>De:</strong> Œµ = 35 ‚Üí Œµ = 39</p>
                        <p><strong>Resultado:</strong> 3 clusters ‚Üí 2 clusters</p>
                        <p><strong>Impacto:</strong> 33% menos clusters</p>
                    </div>
                    
                    <div class="example-card">
                        <h5>üìä Cambio en MinPts (+33%)</h5>
                        <p><strong>De:</strong> MinPts = 3 ‚Üí MinPts = 4</p>
                        <p><strong>Resultado:</strong> 2 ruido ‚Üí 6 ruido</p>
                        <p><strong>Impacto:</strong> 300% m√°s ruido</p>
                    </div>
                    
                    <div class="example-card">
                        <h5>üîÑ Cambio Combinado</h5>
                        <p><strong>De:</strong> (35,3) ‚Üí (33,4)</p>
                        <p><strong>Resultado:</strong> Clustering completamente diferente</p>
                        <p><strong>Impacto:</strong> Estructura irreconocible</p>
                    </div>
                </div>
            </div>

            <div class="highlight-box">
                <h4>¬øPor Qu√© Es Tan Sensible?</h4>
                <p><strong>Epsilon (Œµ):</strong> Determina directamente qu√© puntos son "vecinos". Un peque√±o aumento puede hacer que puntos distantes se conecten, fusionando clusters separados.</p>
                <p><strong>MinPts:</strong> Define el umbral para ser un "core point". Aumentarlo hace que menos puntos califiquen como cores, fragmentando clusters o convirti√©ndolos en ruido.</p>
                <p><strong>Efecto multiplicativo:</strong> Ambos par√°metros interact√∫an, amplificando los efectos de los cambios individuales.</p>
            </div>

            <div class="tips-section">
                <h3>üõ†Ô∏è Estrategias para Manejar la Sensibilidad</h3>
                
                <h4>1. M√©todos de Selecci√≥n de Epsilon:</h4>
                <ul>
                    <li><strong>K-distance plot:</strong> Graficar distancias al k-√©simo vecino y buscar el "codo"</li>
                    <li><strong>An√°lisis de histograma:</strong> Examinar distribuci√≥n de distancias entre puntos</li>
                    <li><strong>Validaci√≥n cruzada:</strong> Probar m√∫ltiples valores y medir estabilidad</li>
                </ul>

                <h4>2. Selecci√≥n de MinPts:</h4>
                <ul>
                    <li><strong>Regla emp√≠rica:</strong> MinPts ‚â• dimensionalidad + 1</li>
                    <li><strong>Para 2D:</strong> MinPts = 4 es un buen punto de partida</li>
                    <li><strong>Datos con ruido:</strong> Valores m√°s altos (5-10) son m√°s robustos</li>
                </ul>

                <h4>3. Alternativas Menos Sensibles:</h4>
                <ul>
                    <li><strong>OPTICS:</strong> Versi√≥n extendida que explora m√∫ltiples valores de epsilon</li>
                    <li><strong>HDBSCAN:</strong> Variante jer√°rquica m√°s robusta</li>
                    <li><strong>Mean Shift:</strong> Algoritmo basado en densidad sin par√°metros fijos</li>
                </ul>
            </div>

            <div class="answer-section">
                <h3>üìù Conclusi√≥n Final</h3>
                <p>La <strong>alta sensibilidad</strong> de DBSCAN a sus par√°metros es tanto una fortaleza como una debilidad:</p>
                
                <h4>üî¥ Desventajas:</h4>
                <ul>
                    <li>Requiere experimentaci√≥n cuidadosa con par√°metros</li>
                    <li>Resultados pueden ser inconsistentes</li>
                    <li>Dificulta la automatizaci√≥n del proceso</li>
                </ul>

                <h4>üü¢ Ventajas:</h4>
                <ul>
                    <li>Permite ajuste fino para casos espec√≠ficos</li>
                    <li>Mayor control sobre la granularidad del clustering</li>
                    <li>Puede adaptarse a diferentes densidades locales</li>
                </ul>

                <p><strong>Recomendaci√≥n:</strong> Usar DBSCAN cuando se tenga buen conocimiento del dominio y tiempo para optimizar par√°metros, o considerar alternativas m√°s robustas como HDBSCAN para aplicaciones automatizadas.</p>
            </div>
        </div>
    </div>

    <script>
        // Datos de ejemplo m√°s ricos y variados
        const dataPoints = [
            // Cluster 1 (izquierda) - MUY DENSO
            {x: 100, y: 150, id: 1}, {x: 110, y: 160, id: 2}, {x: 105, y: 140, id: 3},
            {x: 115, y: 155, id: 4}, {x: 95, y: 165, id: 5}, {x: 120, y: 145, id: 6},
            {x: 108, y: 170, id: 7}, {x: 90, y: 155, id: 8}, {x: 125, y: 160, id: 9},
            
            // Cluster 2 (centro-derecha) - DENSO
            {x: 300, y: 200, id: 10}, {x: 315, y: 210, id: 11}, {x: 295, y: 190, id: 12},
            {x: 310, y: 205, id: 13}, {x: 285, y: 215, id: 14}, {x: 320, y: 195, id: 15},
            {x: 305, y: 225, id: 16}, {x: 290, y: 185, id: 17},
            
            // Cluster 3 (arriba-centro) - MODERADAMENTE DENSO
            {x: 200, y: 80, id: 18}, {x: 220, y: 90, id: 19}, {x: 215, y: 70, id: 20},
            {x: 235, y: 85, id: 21}, {x: 190, y: 95, id: 22}, {x: 225, y: 75, id: 23},
            
            // Cluster 4 (derecha-abajo) - DISPERSO
            {x: 450, y: 280, id: 24}, {x: 470, y: 300, id: 25}, {x: 440, y: 260, id: 26},
            {x: 480, y: 290, id: 27}, {x: 430, y: 310, id: 28},
            
            // Cluster 5 (centro-abajo) - MUY DISPERSO
            {x: 250, y: 300, id: 29}, {x: 280, y: 320, id: 30}, {x: 220, y: 280, id: 31},
            {x: 290, y: 290, id: 32},
            
            // Puntos de transici√≥n (entre clusters) - SENSIBLES AL EPSILON
            {x: 180, y: 180, id: 33}, {x: 200, y: 200, id: 34}, {x: 160, y: 200, id: 35},
            
            // Outliers verdaderos
            {x: 50, y: 50, id: 36}, {x: 500, y: 100, id: 37}, {x: 150, y: 320, id: 38},
            {x: 400, y: 50, id: 39}, {x: 350, y: 320, id: 40},
            
            // Puntos adicionales para demostrar sensibilidad
            {x: 130, y: 120, id: 41}, {x: 270, y: 150, id: 42}, {x: 320, y: 250, id: 43},
            {x: 380, y: 180, id: 44}, {x: 420, y: 220, id: 45}
        ];

        // Funci√≥n DBSCAN simplificada
        function runDBSCAN(points, eps, minPts) {
            const result = points.map(p => ({...p, cluster: 'noise', neighbors: 0, isCore: false}));
            
            // Calcular vecinos
            result.forEach(point => {
                const neighbors = result.filter(other => 
                    other.id !== point.id && 
                    Math.sqrt(Math.pow(point.x - other.x, 2) + Math.pow(point.y - other.y, 2)) <= eps
                );
                point.neighbors = neighbors.length;
                point.isCore = neighbors.length >= minPts;
            });
            
            // Formar clusters
            let clusterIndex = 1;
            const visited = new Set();
            
            result.forEach(point => {
                if (point.isCore && !visited.has(point.id)) {
                    const stack = [point];
                    point.cluster = `cluster${clusterIndex}`;
                    visited.add(point.id);
                    
                    while (stack.length > 0) {
                        const current = stack.pop();
                        const neighbors = result.filter(other => 
                            other.id !== current.id && 
                            Math.sqrt(Math.pow(current.x - other.x, 2) + Math.pow(current.y - other.y, 2)) <= eps
                        );
                        
                        neighbors.forEach(neighbor => {
                            if (!visited.has(neighbor.id)) {
                                visited.add(neighbor.id);
                                neighbor.cluster = `cluster${clusterIndex}`;
                                if (neighbor.isCore) {
                                    stack.push(neighbor);
                                }
                            }
                        });
                    }
                    clusterIndex++;
                }
            });
            
            return result;
        }

        // Funci√≥n para crear visualizaci√≥n
        function createVisualization(svgId, eps, minPts, scale = 1) {
            const svg = d3.select(`#${svgId}`);
            svg.selectAll("*").remove();
            
            const points = runDBSCAN(dataPoints, eps, minPts);
            const colors = {
                cluster1: '#3498db', cluster2: '#e74c3c', cluster3: '#f39c12',
                cluster4: '#9b59b6', noise: '#95a5a6'
            };
            
            // Dibujar c√≠rculos de epsilon para core points (solo en el gr√°fico principal)
            if (scale === 1) {
                const corePoints = points.filter(p => p.isCore);
                // Mostrar m√°ximo 6 c√≠rculos para no sobrecargar
                const samplesToShow = Math.min(6, corePoints.length);
                const step = Math.max(1, Math.floor(corePoints.length / samplesToShow));
                
                for (let i = 0; i < corePoints.length; i += step) {
                    const point = corePoints[i];
                    svg.append("circle")
                        .attr("cx", point.x * scale)
                        .attr("cy", point.y * scale)
                        .attr("r", eps * scale)
                        .attr("fill", "rgba(52,152,219,0.03)")
                        .attr("stroke", "#3498db")
                        .attr("stroke-width", 1)
                        .attr("stroke-dasharray", "4,4")
                        .attr("opacity", 0.7);
                }
            }
            
            // Dibujar puntos
            svg.selectAll(".point")
                .data(points)
                .enter()
                .append("circle")
                .attr("class", "point")
                .attr("cx", d => d.x * scale)
                .attr("cy", d => d.y * scale)
                .attr("r", d => (d.isCore ? 8 : 6) * scale)
                .attr("fill", d => colors[d.cluster] || colors.noise)
                .attr("stroke", "#2c3e50")
                .attr("stroke-width", 1.5 * scale)
                .style("cursor", scale === 1 ? "pointer" : "default");
            
            // Agregar tooltips solo al gr√°fico principal
            if (scale === 1) {
                svg.selectAll(".point")
                    .on("mouseover", function(event, d) {
                        d3.select(this).attr("r", d.isCore ? 12 : 9);
                        
                        const tooltip = svg.append("g").attr("id", "tooltip");
                        tooltip.append("rect")
                            .attr("x", d.x + 15)
                            .attr("y", d.y - 50)
                            .attr("width", 140)
                            .attr("height", 70)
                            .attr("fill", "rgba(0,0,0,0.9)")
                            .attr("rx", 8);
                        
                        tooltip.append("text")
                            .attr("x", d.x + 25)
                            .attr("y", d.y - 30)
                            .attr("fill", "white")
                            .attr("font-size", "12px")
                            .attr("font-weight", "bold")
                            .text(`${d.isCore ? 'Core' : 'Border/Noise'}`);
                        
                        tooltip.append("text")
                            .attr("x", d.x + 25)
                            .attr("y", d.y - 15)
                            .attr("fill", "white")
                            .attr("font-size", "11px")
                            .text(`Neighbors: ${d.neighbors}`);
                        
                        tooltip.append("text")
                            .attr("x", d.x + 25)
                            .attr("y", d.y)
                            .attr("fill", "white")
                            .attr("font-size", "11px")
                            .text(`Cluster: ${d.cluster}`);
                    })
                    .on("mouseout", function(event, d) {
                        d3.select(this).attr("r", d.isCore ? 8 : 6);
                        svg.select("#tooltip").remove();
                    });
            }
            
            return points;
        }

        // Funci√≥n para actualizar la demo principal
        function updateMainDemo() {
            const eps = parseInt(document.getElementById('eps-slider').value);
            const minPts = parseInt(document.getElementById('minpts-slider').value);
            
            console.log(`üîÑ Actualizando demo: eps=${eps}, minPts=${minPts}`); // Debug
            
            // Sincronizar controles
            document.getElementById('eps-input').value = eps;
            document.getElementById('minpts-input').value = minPts;
            
            const points = createVisualization('main-demo', eps, minPts, 1);
            
            // Actualizar estad√≠sticas
            const clusterCount = new Set(points.filter(p => p.cluster !== 'noise').map(p => p.cluster)).size;
            const noiseCount = points.filter(p => p.cluster === 'noise').length;
            const coreCount = points.filter(p => p.isCore).length;
            
            console.log(`üìä Resultados: ${clusterCount} clusters, ${noiseCount} noise, ${coreCount} core points`); // Debug
            
            document.getElementById('current-eps').textContent = eps;
            document.getElementById('current-minpts').textContent = minPts;
            document.getElementById('current-clusters').textContent = clusterCount;
            document.getElementById('current-noise').textContent = noiseCount;
        }

        // Inicializar cuando el DOM est√© listo
        document.addEventListener('DOMContentLoaded', function() {
            // Crear visualizaciones de comparaci√≥n
            createVisualization('base-config', 35, 3, 0.5);
            createVisualization('small-change', 39, 3, 0.5);
            createVisualization('minpts-change', 35, 4, 0.5);
            
            // Configurar controles
            const epsSlider = document.getElementById('eps-slider');
            const epsInput = document.getElementById('eps-input');
            const minptsSlider = document.getElementById('minpts-slider');
            const minptsInput = document.getElementById('minpts-input');
            
            // Event listeners para epsilon
            epsSlider.addEventListener('input', function() {
                epsInput.value = this.value;
                updateMainDemo();
            });
            
            epsSlider.addEventListener('change', function() {
                epsInput.value = this.value;
                updateMainDemo();
            });
            
            epsInput.addEventListener('input', function() {
                if (this.value >= 20 && this.value <= 80) {
                    epsSlider.value = this.value;
                    updateMainDemo();
                }
            });
            
            epsInput.addEventListener('change', function() {
                if (this.value >= 20 && this.value <= 80) {
                    epsSlider.value = this.value;
                    updateMainDemo();
                }
            });
            
            // Event listeners para MinPts
            minptsSlider.addEventListener('input', function() {
                minptsInput.value = this.value;
                updateMainDemo();
            });
            
            minptsSlider.addEventListener('change', function() {
                minptsInput.value = this.value;
                updateMainDemo();
            });
            
            minptsInput.addEventListener('input', function() {
                if (this.value >= 2 && this.value <= 6) {
                    minptsSlider.value = this.value;
                    updateMainDemo();
                }
            });
            
            minptsInput.addEventListener('change', function() {
                if (this.value >= 2 && this.value <= 6) {
                    minptsSlider.value = this.value;
                    updateMainDemo();
                }
            });
            
            // Crear demo inicial
            updateMainDemo();
            
            console.log("Demo de sensibilidad DBSCAN cargada correctamente!");
        });
    </script>
</body>
</html>